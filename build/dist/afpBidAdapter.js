(self.pbjsChunk=self.pbjsChunk||[]).push([[899],{33:function(e,t,n){var a,i=n(1002),r=n(4942),o=n(4614),s=n(5339),p=n(5706),d=n(4679),c="localhost"===location.hostname,l="https://cdn.afp.ai/ssp/sdk.js?auto_initialization=false&deploy_to_parent_window=true",u="In-image",h="In-image Max",g=(a={},(0,r.Z)(a,u,d.Mk),(0,r.Z)(a,h,d.Mk),(0,r.Z)(a,"In-content Banner",d.Mk),(0,r.Z)(a,"In-content Stories",d.Mk),(0,r.Z)(a,"Action Scroller",d.Mk),(0,r.Z)(a,"Action Scroller Light",d.Mk),(0,r.Z)(a,"Just Banner",d.Mk),(0,r.Z)(a,"In-content Video",d.pX),(0,r.Z)(a,"Out-content Video",d.pX),a),m={},f={code:"afp",supportedMediaTypes:[d.Mk,d.pX],isBidRequestValid:function(e){var t=e.mediaTypes,n=e.params;if("object"!==(0,i.Z)(n)||"object"!==(0,i.Z)(t))return!1;var a=n.placeId,r=n.placeType,s=n.imageUrl,p=n.imageWidth,c=n.imageHeight,l=t[g[r]];if(a&&l){if(g[r]===d.pX){if(!l.playerSize)return!1}else if(g[r]===d.Mk&&!l.sizes)return!1;if(!(0,o.q9)([u,h],r))return!0;if(s&&p&&c)return!0}return!1},buildRequests:function(e,t){var n=t.refererInfo,a=t.gdprConsent;return{method:"POST",url:"https://ssp.afp.ai/api/prebid",data:{pageUrl:c?"https://rtbinsight.ru/smiert-bolshikh-dannykh-kto-na-novienkogo/":n.page,gdprConsent:a,bidRequests:e.map((function(e){var t=e.bidId,n=e.transactionId,a=e.sizes,i=e.params,r=i.placeId,s=i.placeType,p=i.imageUrl,d=i.imageWidth,c=i.imageHeight;m[t]=e;var l={bidId:t,transactionId:n,sizes:a,placeId:r};return(0,o.q9)([u,h],s)&&Object.assign(l,{imageUrl:p,imageWidth:Math.floor(d),imageHeight:Math.floor(c)}),l}))},options:{contentType:"application/json"}}},interpretResponse:function(e){var t=e.body&&e.body.bids;return(t=Array.isArray(t)?t:[]).map((function(e,t){var n=e.bidId,a=e.cpm,i=e.width,r=e.height,o=e.creativeId,s=e.currency,c=e.netRevenue,u=e.adSettings,h=e.placeSettings,f={requestId:n,cpm:a,width:i,height:r,creativeId:o,currency:s,netRevenue:c,meta:{mediaType:g[h.placeType]},ttl:60},y={adSettings:u,placeSettings:h,placeContainer:m[n].params.placeContainer,isPrebid:!0};return g[h.placeType]===d.Mk?f.ad=function(e){return'<!DOCTYPE html>\n    <html lang="en">\n    <head>\n        <meta charset="UTF-8">\n        <style>html, body {width: 100%; height: 100%; margin: 0;}</style>\n        <script src="'.concat(l,'"><\/script>\n    </head>\n    <body>\n        <script>\n            window.afp.createPlaceByData(JSON.parse(decodeURIComponent("').concat(encodeURIComponent(JSON.stringify(e)),'")))\n        <\/script>\n    </body>\n  </html>')}(y):g[h.placeType]===d.pX&&(f.vastXml=u.content,f.renderer=function(e,t){var n=new p.Th({targetId:e.adUnitCode,url:l,callback:function(){n.loaded=!0,window.afp.createPlaceByData(t)}});return n}(f,y)),f}))}};(0,s.dX)(f),window.pbjs.installedModules.push("afpBidAdapter")}},function(e){var t;t=33,e(e.s=t)}]);